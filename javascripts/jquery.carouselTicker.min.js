"use strict";!function(e){var t={},i={direction:"prev",mode:"horizontal",speed:1,delay:30,onCarouselTickerLoad:function(){}};e.fn.carouselTicker=function(s){if(0==this.length)return this;if(this.length>1)return this.each(function(){e(this).carouselTicker(s)}),this;var n={},o=this,r=e(this);t.el=this,t.$el=e(this);var l=function(){n.settings=e.extend({},i,s),n.intervalPointer=null,n.directionSwitcher="prev"===n.settings.direction?-1:1,n.itemsWidth=0,n.childsWidth=0,n.itemsHeight=0,n.childsHeight=0,n.$list=r.children("ul"),n.$items=n.$list.children("li"),n.isInitialize=!1,n.isMousemove=!1,n.$parent=r.parent(),n.wrapCls="carouselTicker__wrap",n.loaderCls="carouselTicker__loader",n.cloneCls="carouselTicker__clone",n.touch="ontouchstart"in document.documentElement,n.eventTypes={mousedown:n.touch?"touchstart":"mousedown",mousemove:n.touch?"touchmove":"mousemove",mouseup:n.touch?"touchend":"mouseup"},a()},a=function(){function t(){r.children().hasClass(n.wrapCls)||(e("<div class='"+n.loaderCls+"'></div>").appendTo(r),r.find("."+n.wrapCls).css({position:"relative"}),n.$list.wrap("<div class='carouselTicker__wrap' style='position: relative; overflow: hidden; user-select: none; -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; -o-user-select: none;'></div>"),n.$items.clone().addClass(n.cloneCls).appendTo(n.$list),n.$list.css({position:"relative"}),n.isInitialize=!0,n.settings.onCarouselTickerLoad(),c())}"horizontal"===n.settings.mode?(u(),n.itemsWidth>n.$parent.width()&&(r.find("."+n.wrapCls).css({width:n.$parent.width()+"px"}),n.$list.css({width:2*n.itemsWidth,left:0}),t())):"vertical"===n.settings.mode&&(n.itemsHeight=0,n.$items.each(function(){var t=e(this);t.hasClass(n.cloneCls)||(n.itemsHeight+=t.outerHeight(!0))}),n.itemsHeight>n.$parent.height()&&(r.find("."+n.wrapCls).css({height:n.$parent.height()+"px"}),n.$list.css({height:2*n.itemsHeight,top:0}),t())),n.isInitialize&&r.on("dragstart",function(e){if("IMG"==e.target.nodeName.toUpperCase()||"A"==e.target.nodeName.toUpperCase())return!1})},c=function(){var t;r.find("."+n.loaderCls).length&&r.find("."+n.loaderCls).remove(),n.intervalPointer=setInterval(function(){h()},n.settings.delay),r.on("mouseover",function(){var e="horizontal"===n.settings.mode?n.itemsWidth>n.$parent.width():n.itemsHeight>n.$parent.height();e&&(clearInterval(n.intervalPointer),n.intervalPointer=!1)}),r.on("mouseleave",function(){var e="horizontal"===n.settings.mode?n.itemsWidth>n.$parent.width():n.itemsHeight>n.$parent.height();if(n.isMousemove&&(n.$list.off(n.eventTypes.mousemove),n.$list.trigger(n.eventTypes.mouseup)),e){if(n.intervalPointer)return;n.intervalPointer=setInterval(function(){h()},n.settings.delay)}}),t=!1,n.$list.on(n.eventTypes.mousedown,function(i){var s=i.clientX||event.touches[0].pageX,o=i.clientY||event.touches[0].pageY,r=e(this),l=parseFloat(e(this).css("left")),a=parseFloat(e(this).css("top"));e(i.target).off("click"),clearInterval(n.intervalPointer),n.intervalPointer=!1,t=!0,r.on(n.eventTypes.mousemove,function(i){var c=i.clientX||event.touches[0].pageX,h=i.clientY||event.touches[0].pageY,u=s-c,d=o-h;n.touch&&e(document).on("touchmove",function(e){e.preventDefault()}),"horizontal"===n.settings.mode?n.directionSwitcher=u>=0?-1:1:"vertical"===n.settings.mode&&(n.directionSwitcher=d>=0?-1:1),n.isMousemove=!0,t&&("horizontal"===n.settings.mode?(l-u>=0&&1===n.directionSwitcher&&(r.css("left","-="+n.itemsWidth),l=-n.itemsWidth,s=i.clientX||event.touches[0].pageX,u=0),l-u<=-n.itemsWidth&&-1===n.directionSwitcher&&(r.css("left",0),l=0,u=0,s=i.clientX||event.touches[0].pageX),r.css("left",l-u+"px")):"vertical"===n.settings.mode&&(a-d>=0&&1===n.directionSwitcher&&(r.css("top","-="+n.itemsHeight),a=-n.itemsHeight,o=i.clientY||event.touches[0].pageY,d=0),a-d<=-n.itemsHeight&&-1===n.directionSwitcher&&(r.css("top",0),a=0,d=0,o=i.clientY||event.touches[0].pageY),r.css("top",a-d+"px")))})}),n.$list.on(n.eventTypes.mouseup,function(i){var s=e(i.target);i.preventDefault(),(s.attr("href")||s.parents().attr("href")&&n.isMousemove)&&s.on("click",function(e){e.preventDefault()}),t=!1,n.isMousemove=!1,n.settings.direction=1===n.directionSwitcher?"next":"prev",e(this).off(n.eventTypes.mousemove),n.touch&&e(document).off("touchmove"),n.intervalPointer&&clearInterval(n.intervalPointer),n.touch&&(n.intervalPointer=setInterval(function(){h()},n.settings.delay))})},h=function(){var e="horizontal"===n.settings.mode?"left":"top",t="horizontal"===n.settings.mode?n.itemsWidth:n.itemsHeight;n.$list.css(e,"+="+n.directionSwitcher*n.settings.speed+"px"),"prev"===n.settings.direction&&Math.abs(parseInt(n.$list.css(e)))>=t&&n.$list.css(e,0),"next"===n.settings.direction&&parseInt(n.$list.css(e))>=0&&n.$list.css(e,-t+"px")};function u(){n.itemsWidth=0,n.$items.each(function(){var t=e(this),i=this.currentStyle||window.getComputedStyle(this),s=parseFloat(i.marginLeft)+parseFloat(i.marginRight);t.hasClass(n.cloneCls)||(n.itemsWidth+=this.getBoundingClientRect().width+s)})}return o.resizeTicker=function(){u(),n.itemsWidth>n.$parent.width()?n.isInitialize||l():n.isInitialize&&o.destructor()},o.stop=function(){clearInterval(n.intervalPointer),n.intervalPointer=!1},o.run=function(){c()},o.destructor=function(){r.find("."+n.cloneCls).remove(),r.find("."+n.wrapCls).length&&(r.find("ul").unwrap(),r.find("ul").css({left:"auto",position:"static",width:"auto"}),r.css({width:"auto",position:"static"})),clearInterval(n.intervalPointer),n.isInitialize=!1,n.intervalPointer=!1},o.reloadCarouselTicker=function(e){null!=e&&(s=e),o.destructor(),l()},"loading"===document.readyState?e(window).on("load",function(){l()}):l(),this}}(jQuery);